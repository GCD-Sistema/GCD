<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
      xmlns:p="http://primefaces.org/ui">
	<ui:composition template="../template.xhtml">
		<ui:define name="titulo">Cadastro Cliente</ui:define>
		<ui:define name="conteudo">
		
			<div class="col-sm-12">
				<div class="tabbable">
					<ul class="nav nav-tabs padding-12 tab-color-blue background-blue" id="myTab4">
						<li class="active">
							<a data-toggle="tab" href="#listagem">Listagem</a>
						</li>
	
						<li>
							<a data-toggle="tab" href="#cadastro">Cadastro</a>
						</li>
					</ul>
	
					<div class="tab-content">
						<f:subview rendered="#{LoginBean.verificarTipoDistrital()}">
							<div id="listagem" class="tab-pane in active">
								<h:form>
									<div class="row">
										<div class="col-xs-12">
											<h3 class="header smaller lighter blue">Diretor</h3>
		
											<div class="clearfix">
												<div class="pull-right tableTools-container"></div>
											</div>
											<div class="table-header">
												Lista de Diretores Cadastrado
											</div>
		
											<!-- div.table-responsive -->
		
											<!-- div.dataTables_borderWrap -->
											<div>
												<h:dataTable var="diretor" value="#{DistritalBean.diretores}" id="dynamic-table" styleClass="table table-striped table-bordered table-hover">
													<h:column>
														<f:facet name="header">Nome</f:facet>
														<h:outputText value="#{diretor.nome}"/> 	
													</h:column>
													
													<h:column>
														<f:facet name="header">Email</f:facet>
														<h:outputText value="#{diretor.email}"/> 	
													</h:column>
													
													<h:column>
														<f:facet name="header">Telefone</f:facet>
														<h:outputText value="#{diretor.telefone}"/> 	
													</h:column>
													
													<h:column>
														<f:facet name="header">Data de Nascimento</f:facet>
														<h:outputText value="#{diretor.dataNascimento}">
															<f:convertDateTime type="date" pattern="dd/MM/yyyy" locale="pt_BR" timeZone="America/Fortaleza" />
														</h:outputText> 	
													</h:column>
													
													<h:column>
														<f:facet name="header">Sexo</f:facet>
														<h:outputText value="#{diretor.sexo ? 'Homem' : 'Mulher'}"/> 	
													</h:column>
													
													<h:column>
														<f:facet name="header">Nome do Pai</f:facet>
														<h:outputText value="#{diretor.nomePai}"/> 	
													</h:column>
													
													<h:column>
														<f:facet name="header">Nome da Mãe</f:facet>
														<h:outputText value="#{diretor.nomeMae}"/> 	
													</h:column>
													
													<h:column>
														<f:facet name="header">Ação</f:facet>
														<h:commandLink actionListener="#{DistritalBean.excluirDiretor(diretor)}" styleClass="tooltip-success" title="Deletar">
															<span class="red">
																<i class="ace-icon fa fa-trash-o bigger-120"></i>
															</span>
														</h:commandLink>
													</h:column>
												</h:dataTable>
											</div>
										</div>
									</div>
								</h:form>
	
							</div>
						</f:subview>
	
						<div id="cadastro" class="tab-pane">
							<h:form>
								<div class="row">
									<h:panelGroup styleClass="col-xs-12 col-sm-3">
										<h:outputText value="Nome"/>
										<div>
											<h:inputText id="nome" value="#{DiretorBean.diretor.nome}" styleClass="col-xs-12 col-sm-12" required="false" requiredMessage="Obrigatório"/>
										</div>
										<h:message style="color:red;" for="nome"/>						
									</h:panelGroup>
									
									<h:panelGroup styleClass="col-xs-12 col-sm-3">
										<h:outputText value="Email"/>
										<div>
											<h:inputText id="email" value="#{DiretorBean.diretor.email}" styleClass="col-xs-12 col-sm-12" required="false" requiredMessage="Obrigatório"/>
										</div>
										<h:message style="color:red;" for="email"/>						
									</h:panelGroup>
									
									<h:panelGroup styleClass="col-xs-12 col-sm-3">
										<h:outputText value="Telefone"/>
										<div>
											<h:inputText id="telefone" value="#{DiretorBean.diretor.telefone}" styleClass="col-xs-12 col-sm-12" required="false" requiredMessage="Obrigatório"/>
										</div>
										<h:message style="color:red;" for="telefone"/>						
									</h:panelGroup>
									
									<h:panelGroup styleClass="col-xs-12 col-sm-2">
										<h:outputText value="Data de Nascimento"/>
										<div>
											<h:inputText id="dataNascimento" value="#{DiretorBean.diretor.dataNascimento}">
												<f:convertDateTime type="date" pattern="dd/MM/yyyy" locale="pt_BR" timeZone="America/Fortaleza" />
											</h:inputText>
										</div>
										<h:message style="color:red;" for="dataNascimento"/>						
									</h:panelGroup>
									
									<h:panelGroup styleClass="col-xs-12 col-sm-1">
										<h:outputText value="Sexo"/>
										<div>
											<h:selectOneMenu id="sexo" styleClass="col-xs-12 col-sm-12" value="#{DiretorBean.diretor.sexo}" required="false" requiredMessage="Obrigatório">
												<f:selectItem itemLabel="" itemValue="#{null}" />
												<f:selectItem itemLabel="H" itemValue="#{true}" />
												<f:selectItem itemLabel="M" itemValue="#{false}" />
											</h:selectOneMenu>
										</div>
										<h:message style="color:red;" for="sexo"/>
									</h:panelGroup>
								</div>
								
								<div class="space" />
								
								<div class="row">
									<h:panelGroup styleClass="col-xs-12 col-sm-3">
										<h:outputText value="Nome do Pai"/>
										<div>
											<h:inputText id="nomePai" value="#{DiretorBean.diretor.nomePai}" styleClass="col-xs-12 col-sm-12" required="false" requiredMessage="Obrigatório"/>
										</div>
										<h:message style="color:red;" for="nomePai"/>						
									</h:panelGroup>
									
									<h:panelGroup styleClass="col-xs-12 col-sm-3">
										<h:outputText value="Nome da Mãe"/>
										<div>
											<h:inputText id="nomeMae" value="#{DiretorBean.diretor.nomeMae}" styleClass="col-xs-12 col-sm-12" required="false" requiredMessage="Obrigatório"/>
										</div>
										<h:message style="color:red;" for="nomeMae"/>						
									</h:panelGroup>
									
									<h:panelGroup rendered="#{LoginBean.verificarTipoDistrital()}" styleClass="col-xs-12 col-sm-3">
										<h:outputText value="Login"/>
										<div>
											<h:inputText id="login" value="#{DiretorBean.diretor.login}" styleClass="col-xs-12 col-sm-12" required="true" requiredMessage="Obrigatório"/>
										</div>
										<h:message style="color:red;" for="login"/>
									</h:panelGroup>
									
									<h:panelGroup rendered="#{LoginBean.verificarTipoDistrital()}" styleClass="col-xs-12 col-sm-3">
										<h:outputText value="Senha"/>
										<div>
											<h:inputSecret id="senha" value="#{DiretorBean.diretor.senha}" styleClass="col-xs-12 col-sm-12" required="true" requiredMessage="Obrigatório"/>
										</div>
										<h:message style="color:red;" for="senha"/>
									</h:panelGroup>
								</div>
								
								<div class="space" />
								
								<div class="row">
									<h:panelGroup rendered="#{LoginBean.verificarTipoDiretor() and DiretorBean.editando or LoginBean.verificarTipoDistrital()}" styleClass="col-xs-12 col-sm-2">
										<h:commandButton value="Salvar" actionListener="#{DiretorBean.salvar}" styleClass="col-xs-12 col-sm-12"/>
									</h:panelGroup>
									<h:panelGroup rendered="#{LoginBean.verificarTipoDiretor() and !DiretorBean.editando}" styleClass="col-xs-12 col-sm-2">
										<h:commandButton value="Editar" actionListener="#{DiretorBean.prepararEdicao}" styleClass="col-xs-12 col-sm-12"/>
									</h:panelGroup>
									<h:panelGroup rendered="#{LoginBean.verificarTipoDiretor() and DiretorBean.editando}" styleClass="col-xs-12 col-sm-2">
										<h:commandButton value="Cancelar Edição" actionListener="#{DiretorBean.reset}" styleClass="col-xs-12 col-sm-12" />
									</h:panelGroup>
								</div>
							</h:form>	
						</div>
					</div>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</html>